<div>
  <%= render "timesheet_day" %>

  <div id="date_ranges">
    <%= link_to "Today" , '#', :data => {:date => @today},:id => "today_date", :class => 'change_date' %> 
  </div>
  <div id="timesheet_container">
    <div id="timesheet_nav_container">
      <%= render "timesheet_navigation" %>
    </div>
    <!-- Tab panes -->
    <div class="tab-content">
      <div id="timesheet-content" role="tabpanel" class="tab-pane active" id="home"> 
          <%= render "timesheets" %>
      </div>
    </div>
  </div>
    <!-- Button trigger modal -->
  <button id="create-timer" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
    +
  </button>

  <%= render "new_modal" %>

</div>

<script type="text/javascript">

  $( document ).on("click",".change_date", function(){
    var dateForParam = $(this).data('date');
    $.ajax({
      type:'GET', 
      url: "<%=timesheets_path%>",
      data: { date : dateForParam },
      dataType: "script"
    });
  })
</script>