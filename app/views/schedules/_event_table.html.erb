<table class="schedule table table-hover table-striped">
  <thead>
    <tr>
      <th>SUNDAY</th>
      <th>MONDAY</th>
      <th>TUESDAY</th>
      <th>WEDNESDAY</th>
      <th>THURSDAY</th>
      <th>FRIDAY</th>
      <th>SATURDAY</th>
    </tr>
  </thead>
  <tbody>
    <div id="event-row">
      <% for i in 0..6 %>
        <td width="15%">
          <% @schedule.events.each do |e| %>
            <% if e.day_of_week.to_date.wday == i %>
              <li class="list-group-item">
              <%= link_to "#", data: { toggle: "modal", "edit-event-path": "#{schedule_event_path(@schedule, e)}", event: e }, class:"edit-current-event" do %>
                  <%= e.name %><br>
                  <%= e.inTime.to_time.strftime("%H:%M %p") %>
                  <%= e.outTime.to_time.strftime("%H:%M %p") %>
                <%end%>
              </li>
            <% end %>
          <% end %>
        </td>
      <% end %>
    </div>
  </tbody>
</table>

<%= render 'events/detail_event' %>



<script type="text/javascript">
  $(document).ready(function(){
    $(".edit-current-event").click(function(e){
      e.preventDefault();
      $("#edit_event_form").attr("action", $(this).data("edit-event-path"));
      $("#edit_event_form").attr("data-event",$(this).data("event").id);
      var eventJSON = $(this).data("event");
      $("#name_event").val(eventJSON["name"]);
      $("#start_event").val(eventJSON["inTime"]);
      $("#finish_event").val(eventJSON["outTime"]);
      $("#day_event").val(eventJSON["day_of_week"]);
      $("launch").val(eventJSON["launch"]);
      $("#detail-event").modal("show");
    })
  })
</script>